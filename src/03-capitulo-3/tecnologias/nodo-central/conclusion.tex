\subsubsection{Conclusión}

En esta sección hemos analizado variantes para abordar un mismo problema, la centralización de la distribución de conexiones entre los clientes y los servicios sin generar nuevos cuellos de botella. En el análisis hemos considerado desde un \gls{acro:esb} completo, con toda su estructura, hasta tecnologías que simplemente funcionaban de proxy reverso altamente performante con la posibilidad de administrarlo y algún agregado más.

Este amplio espectro de opciones nos ayudó a comprender mejor nuestras necesidades y, por ende, a tomar una decisión basada en las mismas y no simplemente en las tendencias de la industria. En un extremo del espectro de opciones nos encontramos con un \gls{acro:esb} completo, lo cual nos resulta demasiado para el planteo que estamos haciendo, ya que incluirlo agregaría capas innecesarias de complejidad a nuestro nodo central. En el opuesto nos encontramos con productos en extremo simples (o tal vez incompletos) que nos generan la necesidad de implementar nosotros algunos elementos para nuestra arquitectura, como ser analíticas o monitoreo de \eng{endpoints}.

En un punto relativamente intermedio del rango, encontramos opciones como \nameref{soa:tecnologias:api-umbrella} y \nameref{soa:tecnologias:tyk}, que nos brindan un buen equilibrio entre prestaciones y complejidad, sin sacrificar nuestras necesidades para este nodo central. Entre estos productos, el aspecto determinante para nuestra elección se basa en su madurez: al momento de realizar este trabajo, \nameref{soa:tecnologias:api-umbrella} no tiene un nivel de estabilidad adecuado para nuestras necesidades, mientras que \nameref{soa:tecnologias:tyk} sí, por lo cual elegimos este último para implementar el nodo central.

Al ahondar en SOA e investigar diferentes tecnologías y patrones de arquitectura de software (\eng{layered architecture}, \eng{event-driven architecture}, \eng{microservices architecture}), observamos en el patrón de microservicios una mejora sustancial, en simplicidad y alcance, que se adecuaba a nuestras necesidades, por eso decidimos optar por un \eng{API Gateway} que funcione como un ``message broker liviano'', en lugar de un ESB completo.

Si bien WSO2 ESB se presenta como un producto robusto y con amplias posibilidades de escalabilidad, se trata de una solución demasiado compleja para el alcance de este trabajo, cuyo foco es rediseñar la arquitectura de la nube de servicios de la UNLP.

En este sentido, Tyk cumple con todas las tareas que realiza un \gls{acro:esb} (proveer conectividad, ruteo sencillo, manejo de seguridad, fiabilidad en los servicios, monitoreo y registro de actividades), menos en la transformación de datos y ruteo inteligente.  Esto resulta suficiente para el alcance de este trabajo, el cual nos permitirá lograr experiencia en la materia, para luego decidir, en caso de ser necesario, cambiar el ``message broker'' por un \gls{acro:esb} robusto, como podría ser Mule ESB, Fuse ESB, WSO2 ESB o Synapse, entre otros.  Cabe aclarar, que este cambio no sería trascendental, ya que se trata de una capa de la arquitectura totalmente desacoplada que provee varios servicios (proveer conectividad, ruteo, manejo de seguridad, fiabilidad en los servicios, monitoreo y registro de actividades), los cuales se encuentran encapsulados o agrupados, lo que permitirá ser reemplazada sin afectar el resto de la arquitectura.  Esto es posible debido a que desde el inicio, basamos el diseño de la arquitectura en los principios que propone \gls{acro:soa}, logrando obtener los beneficios que este marco de diseño para la integración de aplicaciones propone.
